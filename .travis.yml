sudo: required

matrix:
  include:
    - perl: "5.22-shrplib"
      dist: precise
      language: perl
    - dist: xenial
      language: bash
      before_install:
      - sudo -E apt-get -yq update
      - sudo -E apt-get -yq --no-install-suggests --no-install-recommends --force-yes install libgd2-xpm-dev uuid-dev perl
      - cpanm --local-lib=~/perl5 local::lib
      - eval $(perl -I ~/perl5/lib/perl5/ -Mlocal::lib)
      - ./scripts/travis_before_install.sh

addons:
  apt:
    packages:
    - libgd2-xpm-dev
    - uuid-dev

env:
  global:
    - WTSI_NPG_GITHUB_URL=https://github.com/wtsi-npg

before_install:
  - ./scripts/travis_before_install.sh

install:
  - ./scripts/travis_install.sh

script:
  - ./scripts/travis_script.sh
